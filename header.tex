\usepackage{fontspec}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}

%Physics styles
\usepackage[
    math-style=ISO, 
    bold-style=ISO, 
    sans-style=italic, 
    nabla=upright, 
    partial=upright
]{unicode-math}

% numbers and units
\usepackage[
%   locale=DE,
    separate-uncertainty=true,  % use \pm
    per-mode=symbol-or-fraction,
    binary-units=true,
    %per-mode=reciprocal,
    %output-decimal-marker=.,
]{siunitx}

% Fix missing micro sign with TL2017
\sisetup{
    math-micro=\text{μ}, 
    text-micro=μ,
    range-phrase = -,
    list-separator       = {, },
    list-final-separator = { und },
    range-units = single
}

% Positioning
\usepackage{float}
% Floats inside of section 
\usepackage[section, below]{placeins}
% same for Subsections 
\makeatletter
\AtBeginDocument{%
  \expandafter\renewcommand\expandafter\subsection\expandafter{%
    \expandafter\@fb@secFB\subsection
  }%
}
\makeatother
\floatplacement{figure}{htbp}
\floatplacement{table}{htbp}

% making caption look nice
\usepackage[
  labelfont=bf,        
  font=small,          
  width=0.9\textwidth, 
]{caption}
\usepackage{subcaption}

% pictures
\usepackage{graphicx}

% Use _ in paths
\usepackage{grffile}

% tables
\usepackage{booktabs}

% optimizing look
\usepackage{microtype}
\usepackage[shortcuts]{extdash}

\usepackage{tikz}
\usepackage{tikz-feynman}

\setmainfont{Libertinus Serif}
\setsansfont{Libertinus Sans}
\setmonofont{Libertinus Mono}
\setmathfont{Libertinus Math}
\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
\recalctypearea

\usepackage[
  backend=biber,   % use modern biber backend
  autolang=hyphen, % load hyphenation rules for if language of bibentry is not
                   % german, has to be loaded with \setotherlanguages
                   % in the references.bib use langid={en} for english sources
  urldate=iso,%
  date=iso,%
  style=phys,%
  articletitle=false,biblabel=brackets,%
  chaptertitle=false,pageranges=false,%
  maxnames=2%
]{biblatex}

\usepackage{todonotes}
\presetkeys{todonotes}{inline}{}
%\setuptodonotes{color=lhcb3,size=\tiny}
\usepackage{xfrac}

\usetikzlibrary{patterns}
\usetikzlibrary{angles}
\usepackage{tabularx}

% quotation marks
\usepackage{csquotes}
\usepackage{slashed}
\usepackage{expl3}
\usepackage{xparse}
\usepackage{xcolor}
\usepackage{ifthen}
\usepackage{mleftright}
% my makros
\input{macros.tex}

% Hyperlinks
\usepackage[
  allbordercolors = vertexDarkGreen,
  unicode,        % Unicode in PDF-Attributen erlauben
  pdfusetitle,    % Titel, Autoren und Datum als PDF-Attribute
  pdfcreator={},  % ┐ PDF-Attribute säubern
  pdfproducer={}, % ┘
]{hyperref}
% erweiterte Bookmarks im PDF
\usepackage{bookmark}
